<!DOCTYPE html> 
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/jquery.mobile-1.3.2.min.css" />
    <script src="/js/jquery-1.10.1.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="/js/jquery.mobile-1.3.2.min.js"></script>
	<script src="/js/dform.js"></script>

</head>

<body>

<!-- Start of first page -->
<div data-role="page" id="foo">

	<div data-role="header">
		<h1>Foo</h1>
	</div><!-- /header -->

	<div data-role="content">


	<div id="hemma"></div>

		<script type="text/javascript">
    $(function() {


        //console.log(url);
        var url = "{{ form_id }}";
        $.get( "/getform/" + url, function( data ) {
            form = data;
            $("#myform").dform(form);
        });
        /*
        var url = window.location.pathname;
        var numberPattern = /\d+/g;
        form_id = url.match(numberPattern);
        console.log(form_id[0]);
        */
        
        $(document).on("click",".image_file > input",function(){
            console.log("file!")
            elmId = $(this).attr('id');
            console.log(elmId);
        });
        

        /*
        $.dform.addType('textarea', function(options) { 
            return $(this).wrap('<div >').attr('data-mini','true').parent(); 
        });
        */

    	$.dform.addType("h2", function(options) {
            // Return a new button element that has all options that
            // don't have a registered subscriber as attributes
            return $("<h2>").dform('attr', options);
        });

    	$.dform.addType('mobile-text', function(options) { 
            return $('<div>').attr('data-role', 'fieldcontain'); 
		});

		$.dform.addType('text', function(options) { 
            return $(this).wrap('<div >').attr('data-mini','true').parent(); 
        });

        $.dform.addType('file', function(options) { 
            return $(this).wrap('<div >').attr('data-mini','true').parent(); 
        }); 

        $.mobile.page("#myform", {transition: "none"});  
        $.mobile.activePage.trigger('create'); 






    });
</script>
<form id="myform"></form>

<br><br><br>
<!--<div data-role="fieldcontain" data-controltype="radiobuttons">
            <fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">
                <legend>
                    Fasad
                </legend>
                <input id="radio1" name="" value="1" type="radio">
                <label for="radio1">
                    Söder
                </label>
                <input id="radio2" name="" value="2" type="radio">
                <label for="radio2">
                    Väster
                </label>
                <input id="radio3" name="" value="3" type="radio">
                <label for="radio3">
                    Norr
                </label>
                <input id="radio4" name="" value="4" type="radio">
                <label for="radio4">
                    Öster
                </label>
            </fieldset> -->

            <div id="home" data-role="page"> 

</div> 
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- Start of second page -->
<div data-role="page" id="bar">

	<div data-role="header">
		<h1>Bar</h1>
	</div><!-- /header -->

	<div data-role="content">
		<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>
		<p><a href="#foo">Back to foo</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->
</body>
</html>